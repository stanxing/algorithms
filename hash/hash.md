# 哈希算法

## 设计算法的要求

- 通过哈希值不能反向推导出原始数据
- 对输入数据非常敏感，哪怕原始数据只修改了一个 bit，得到的哈希值也大不相同
- 散列冲突的概率要很小，尽可能的对不同的原始数据产生不同的哈希值
- 执行效率要尽可能的搞笑，针对较长的文本，也能夸快速得到有效的哈希值

##　应用场景

- 安全加密：用户密码的存储

常用的加密算法有 MD5（消息摘要算法）和 SHA（安全哈希算法），以及 DES 和 AES。
对于加密算法来说，有两点很重要，第一是很难根据哈希值反向推导出密码，第二是散列冲突的概率要足够小。
根据鸽巢原理，哈希算法很难做到零冲突，因为哈希值的长度是有限的，那么他能表示的值也是有限的，例如 MD5 算法产生 128位二进制数，所以能表示的值只有 2^128 个值，所以只要有 2^128+1 个值，那么必定有两个值会冲突。但是这个冲突的概率已经很小了。就算拿到一个哈希值去穷举，也很难短时间得到结果。

- 唯一标识：搜索图片

一个简单的思路是将要查找的图片的二进制串和图库中的比对，如果相同，说明存在。但是图片大小不固定，有的图片很大，几MB，比对是一个很耗时的操作。
可以将图片的二进制值取前中后三段，组合成一个二进制串通过哈希算法（MD5等）得到一个唯一标识，或者说信息摘要。通过唯一标示比对，就可以快很多。

- 数据校验：大数据文件分块上传或者下载， 检查证书是否未经篡改

网络传输是不安全的，在数据分块下载的过程中可能被篡改，所以在所有的块都下载完后，必须有能力去检查是否下载的块能完整的，可以对下载下来的块通过 hash 算法取哈希值，跟种子文件中原来携带每个块的哈希值进行比较，如果一致，说明未经篡改。

- 散列函数：

- 负载均衡：
- 数据分片： 
- 分布式存储： 分布式缓存